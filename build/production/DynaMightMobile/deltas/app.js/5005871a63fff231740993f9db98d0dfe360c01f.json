["function _8caf3f5830a4610c8321b4dc870ad0a639aeefb1",50,318247,"DynaMightMobile.override.field.Text\",{override:\"Ext.field.Text\",onKeyUp:function(b){var a=this.element;this.fireAction(\"keyup\",[this,b],\"doKeyUp\");if(!a.hasCls(\"backgroundtext\")){a.addCls(\"backgroundtext\")}}",318382,33,567039,38,318353,100184,"APP={Fields:[],User:{},Entities:[],Menu:[]};APP.WarningUnsavedData=false;AJAX_URL=\"\";AJAX_HANDLER=\"\";function GetTemplate(c,a){var b;if(c==\"boat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"myboat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.name,50)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"boattime\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\" | <b>\"+a.endtime.split(\" \")+\" </b></div></div>\"}else{if(c==\"boatadd\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"menu\"){b='<div class=\"menuItem\" style=\"background-color:lightgray\"><br/><br/><img src=\"'+AJAX_URL+\"../common/\"+(a.mobiletemplate?a.mobiletemplate:\"star.png\")+'\" width=\"80px\" height=\"80\"/><br/><br/><div class=\"name\">'+Ext.String.ellipsis(a.name,20)+\"</div></div>\"}else{if(c==\"raceboat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+Ext.String.ellipsis(a.rname,25)+'</div><div class=\"vicinity\">'+a.hullnumber+'</div><div class=\"vicinity\">'+(a.skippername?a.skippername:\" - \")+\"</div></div>\"}else{if(c==\"race\"){b='<div class=\"item\"><div class=\"name\">'+a.name+'</div>",833072,34,"'+a.startdate+\"</div></div>\"}else{if(c==\"boatresult\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+a.hullnumber+\"<br/>\"+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">Time: '+(a.endtime?a.endtime:\"\")+' </b></div><div class=\"vicinity\">Handicap: '+(a.handicap?a.handicap:\"\")+\" </div></div>\"}}}}}}}}return b}function BoatFilter(b){var a=this.getValue().toLowerCase();return b.get(\"bname\").toLowerCase().indexOf(a)>-1||b.get(\"hullnumber\").toLowerCase().indexOf(a)>-1}function IsNull(b,a){return b?b:a}function GetEntityView(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].entityid==a){return c[b]}}return\"\"}function GetDisplayField(a){for(var b=0;b<a.length;b++){if(a[b]._name.indexOf(\"id\")==-1){return a[b]._name}}return\"\"}function CreateModel(e,c){var a=[\"sysrowstate\"],b=\"\";",759407,34,"e)){for(var d=0;d<APP.Fields.length;d++){var f=APP.Fields[d];if(f.entityid==c){a.push({name:f.name});if(f.iseditable==\"1\"){b+=(b?\",\":\"\")+f.name}}}Ext.define(e,{extend:\"Ext.data.Model\",requires:[],config:{fields:a,entityFields:b},entityFields:b})}return a}function GetEntityView(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].entityid==a){return c[b]}}return\"\"}function GetEntityByName(a){for(i=0;i<APP.Entities.length;i++){rec=APP.Entities[i];if(rec.name==a){return rec}}return null}function CreateStore(c){var a=GetEntityByName(c),d=localStorage.goOffline,e=\"SQL\",b=d?\"DynaMightMobile.model.\"+a.name+e:\"DynaMightMobile.model.\"+a.name;CreateModel(b,a.entityid);store=new Ext.data.Store({model:b});return store}function GetFieldsByEntity(b){var e,d,c,a=\"\";for(c=0;c<APP.Fields.length;c++){e=APP.Fields[c];if(e.entityid!=b||e.isonlyview==\"1\"){continue}a+=(a?\",\":\"\")+e.name}return a}function GetEntityViewByName(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].name==a){return c[b]}}return\"\"}function AJAXCommand(a){",653213,50,"You are working offline. Action could not be completed!\");return}var b={object:a.object||\"Business\",method:a.method,params:a.params,security:{userID:0}};var c=Ext.JSON.encode(b)",658381,32,"AJAX_HANDLER,method:\"POST\",params:{command:c},scope:a.scope?a.scope:null,success:function(d){var e=Ext.decode(d.responseText);if(e.success){if(a.callback){a.callback(true,e.message,e,a.scope)}}else{this.onFailure(d)}},failure:this.onFailure,timeout:60000,onFailure:function(e,d){Ext.Msg.show({title:T(\"Application errorr\"),msg:T(\"Application error!\")",690798,52,",onSuccess:function(){}})}function replaceHTMLSpCharacters(a){if(a!==null){a=a.replace(/\\\\/g,\"\\\\\\\\\");a=a.replace(/\\r/g,\"\\\\r\");a=a.replace(/\"/g,'\\\\\"')}return a}Ext.define(\"DynaMightMobile.override.data.Store\",{override:\"Ext.data.Store\",autoLoad:false,wasI",131932,41,"var b=this;a=a||{};b.callParent([Ext.apply(b.processEntityStore({}),a)])},processEntityStore:function(a){a.gridConfig={object:\"BusinessEntity\",gridClass:\"WorkforceGrid\",method:\"GetEntityView\",callback:function(e,d,f){}};a.storeId=\"MyModel\";return a},execConfig:function(a){var b=localStorage.goOffline;if(!this.wasInitialized){this.applyDefaultConfig()}if(this.gridConfig){a=Ext.applyIf(a||{},this.gridConfig)}var c={object:a.object||\"BusinessEntity\",method:a.method||\"GetEntityView\",params:a.params?a.params:null,security:{}};if(!b){var d=Ext.JSON.encode(c);this._proxy._extraParams={command:d}}if(a.callback){}this.load(a.callback?{callback:a.callback,scope:a.scope}:{})},applyDefaultConfig:function(){var c=this;var b=localStorage.goOffline,a=b?\"Sql\":\"Ajax\";this.setProxy(Ext.create(\"Ext.data.proxy.\"+a,{actionMethods:{create:\"POST\",destroy:\"POST\",read:\"POST\",update:\"POST\"},url:AJAX_URL+AJAX_HANDLER,reader:{type:\"json\",rootProperty:\"records\"},batchActions:false}));this.wasInitialized=true},getAllRecords:function(b){var e=[];var d=this.getNewRecords();for(var c=0;c<d.length;c++){var a=d[c];e.push(a.data)}d=this.getRemovedRecords();for(var c=0;c<d.length;c++){var a=d[c];e.push(a.data)}return e},getFilteredRecords:function(b){var e=[];var d=this.getData().items;for(var c=0;c<d.length;c++){var a=d[c];e.push(a.data)}return e",418533,229882,";",724749,49,696479,56,696412,68,648543,24742,",select:\"onBoatsViewSelect",673284,10086,"onBoatsView",705897,33,";d.getBFinish",683344,3183,713766,54,686527,1719,"LastNameTxt\").setValue(d.get(\"skipper",688349,3596,"d,h,c",691950,34,692742,339,658752,37,683615,34,"\"Navigation\").onNavigate()}).delay(400",692168,33,"b,g,a",692206,35,"h,c;alert(\"resgitration form:\"+this.getRegistrationLoginFrm());h=this.getRegistrationLoginFrm();c=new ",807421,32,"({width:\"100%\",height:400,itemId:\"boatDetailsPopupFrm\",scrollable:true,listeners:{painted:function(j,e,k){this.setValues(d.boat.data);alert(\"gi:\"+this.getValues().alterSailnumber+\"name:\"+this.getValues().hullnumber+\"b:\"+e+\"c:\"+k);alert(\"asn:\"+this.getRegistrationLoginFrm())}}});c.setModal(true);c.showBy(b",692409,326,692201,41,669166,32,"d.confirmTC(",693080,2119,"a-1",695200,677,695923,408,"division",909599,33,696124,85,696331,366,683370,48,696825,706,"homePanel:\"panel#homePanel",697529,4851,";",724749,49,702384,1919,"startReviewBackBtn:\"button#startReviewBackBtn",704301,562,"startReviewEditBtn:\"button#startReviewEdit",704858,937,",\"button#startReviewEditBtn\":{tap:\"onStartReviewEditBtnTap\"}}",854956,32,"a){this",710384,38,705873,3939,";if(e.getEntrantsList()==null){return}a=e",705934,32,710143,42,709888,783,"onStartReviewEditBtnTap:function(b,c,a){this.getStartReviewEditBtn().setDisabled(true)",710669,6169,"if(!d.down(\"registrationFlag\").getValue()){return",716832,39,694560,32,716902,5056,721972,5998,",optionValueTxt:\"textfield#optionValueTxt\",optionTxt:\"textfield#optionTx",727842,46,727970,2297,"(b+a)",730270,33,"u,b){var w=this,j=w.getRacesList().getStore(),c=w.getNewTxt().getValue(),x=w",731790,34,".name,f=w",731790,34,".sponsorname,r,p=w",730424,50,"g=w",730477,50,"n=p.getFullYear(),l=p.getMonth(),v=p.getDate(),s=g.getHours(),o=g.getMinutes(),k=new Date(n,l,v,s,o,0,0);function t(h){var z=new Date(h||Date.now()),y=\"\"+(z.getMonth()+1),e=\"\"+z.getDate(),m=z.getFullYear();if(y.length<2){y=\"0\"+y}if(e.length<2){e=\"0\"+e}return[y,e,m].join(\"/\")}if(c){for(var q=0;q<c;q++){k.setDate(k.getDate());r=[{name:x+\" - Race \"+(q+1),startdate:k,sponsorid:f}];j.insert(j.data.length,r",730919,37,"c,d,h){var f=this.getDivisionsList(),b=f.selected,g=this.getRaceDivisionsList(),k=g.getStore(),a=f.getStore(),j;if(b.length==0){return}else{rec=b.get(0)}AJAXCommand({params:{name:rec.get(\"name\"),groupname:rec.get(\"groupname\"),handicaptype:rec",737207,35,"rec",737243,34,"rec.get(\"description\")",737290,42,"e,m,n,l){if(e){k.add({divisionid:n.result,name:rec.get(\"name\"),groupname:rec.get(\"groupname\"),handicaptype:rec",737207,35,"rec",737243,34,"rec.get(\"description\")}",669723,41,737387,79,731085,304,";this.getDivisionsList().getStore().add(f);this.getDivisionsList().refresh(",731388,36,"f,j,d){var g=this;var c=g.getDivisionDetailsEdit(),h=g.getSeries",688138,42,"a=1;g.getDivisionDetailsEdit().reset();g.getOptionTxt().setValue(\"new\");g",731583,1114,";",724749,49,732701,480,"var p=l.getRaceDetailsEdit();p.setCentered(true);p.setWidth(\"50%\");p.setHeight(\"50%\");p.setModal(true);p.showBy(f",733216,882,"o",734099,147,"c=d.get(0);l.getDivisionDetailsEdit().setRecord(c);this.getDivisionDetailsEdit().setRecord(c);this.getOptionTxt().setValue(\"edit\"",731580,42,734376,763,"f,b,d){if(f==\"CBH\"){var e=",735159,51,";if(e!=null){e.setHidden(false)}}else{var c=",735159,41,"value\");if(c!=null){c.setHidden(true)}",735300,147,729609,80,"f.getOptionTxt().getValue()==\"new\"){f.newDevision()}else{f.updateDevision()}f",735488,72,";f.getOptionTxt().setValue(null",735559,324,"RaceDetailsEdit().hide(",735950,74,"RaceDetailsEdit().hide(",736091,309,"f,h){var b",734107,33,"c",734141,38,"j",734180,43,"var k=g.getStore();if(c.length==0){return}else{b=c.get(0)}a=b.get(\"divisionid\");",707760,32,"Are you sure you want to remove '\"+b.get(\"name\")+\"'?\",function(e){if(e===\"yes\"){",737119,32,"a},method:\"deleteDivision\",callback:function(l,n,o,m){if(l){k.load();g.refresh",669722,35,"delet",737383,82,"})",736502,442,"name\",f.groupname",736953,147,"A",737102,56,"f.name,groupname:f.groupname,handicaptype:f.handicaptype,handicapvalue:f.handicapvalue",737264,200,737065,35,"ASC\")},newDevision:function(){var d,b,m,j=this,h=j.getRaceDivisionsList(),o=j.getDivisionDetailsEdit(),e=j.getDivisionsList().selected;var f=o.down(\"#optionTxt\");var a,g,k,l,n;if(f.getValue()!=null&&f.getValue()!=\"\"){m=o.getValues();a=m.name;g=m.groupname;k=m.handicaptype;l=m.handicapvalue;n=m.description}else{d=e.get(0);a=d.get(\"name\");g=d.get(\"groupname\");k=d.get(\"handicaptype\");l=d.get(\"handicapvalue\");n=d.get(\"description\")}var c=h.getStore();AJAXCommand({params:{name:a,groupname:g,handicaptype:k,handicapvalue:l,description:",737289,43,"p,r,s,q){if(p){store.add({divisionid:s.result,name:a,groupname:g,handicaptype:k,handicapvalue:l,description:n}",669723,41,737387,77,";c.sort(\"name\",\"ASC\"",737463,1040,"l,k",738506,67,",j",738573,73,"j=Ext.create(\"Ext.form.Panel\",{modal:true",810480,34,"Password\",name:\"auth",808067,33,"button\",docked:\"right\",itemId:\"verifyPassword",812684,50,"Save\",listeners:[{fn:\"onVerifyPasswordBtnTap\",event:\"tap\",delegate:\"#saveBoatBtn\"}],onVerifyPasswordBtnTap:function(n,o,m){alert(\"TODOL tap textpassword:\"+this.down(\"#authpassword\").getValue()+\",frm pass:\"+rm.down(\"#password\").getValue());if(j.down(\"#authpassword\").getValue()!=frm.down(\"#password\")",738967,34,"Incorrect Password\",message:\"Please introduce a correct password",689664,53,";return}}}]}).showBy(b);",738646,152,"n,m,e,o",738805,68412,"top",856064,51,807274,373,"container\",docked:\"top",874862,58,809912,81,"docked:\"left",809991,80,809551,38,807676,281,809663,32,"itemId:\"alterSailnumber\",label:\"Alternative Sail Number\",name:\"alterSailnumber",808486,88,808029,451,"kippe",811152,371,808559,33,811566,143,808559,33,811752,402,883850,60,"}",809374,40,809503,34,883839,71,"}",812239,135,809683,149,814720,38,810109,2045,883850,60,"}",809374,40,809503,34,883839,71,"}",812239,3538,"cover;background-image:url('\"+AJAX_URL+\"",866928,270,"H",862800,44,867248,248,816367,240,"top",852128,64,816677,4480,"hidden:true",821156,1754,"f.applyList(e)}else{",822998,217,"MyButton193\",{extend:Ext.Button,alias:\"widget.mybutton193\",config:{",842955,69,835296,37,823216,989,"\"+AJAX_URL+\"",864064,36,838880,60,824323,2176,849646,36,826521,7598,"top",852128,63,834188,6391,814848,93,866062,72,840761,57,840832,722,"cover;background-image:url('\"+AJAX_URL+\"",866928,119,816367,34,841731,862,"cover;background-image:url('\"+AJAX_URL+\"",866928,137,"docked:\"top",852128,72,842849,74,843024,652,"division",843676,52,"flex:1,itemId:\"resBoatSearch\",width:41",843759,165,"e",817993,34,"d=CreateStore(\"raceboat\"),g",896237,36,"division\"),c,a",712861,35,"e.boatStore=d;e",865631,70,"RR\").raceresultid,filters:\"\"}});e.boatStore=d;g",906096,85,844252,53,"e.raceStore=g",659824,36,870701,62,906095,56,870527,42,906384,61,"Series ",906544,34," WHERE createddate < now() group by divisionname\"}});e.divisionStore=a;e",844515,40,"b);c",844559,87,"e.down(\"#yearCmb\").setStore(c);e",844678,34,"a);e.down(\"#resRaceCmb\").setStore(g",835264,32,844779,4321,886880,69,"a?",866992,40,":\"\"",816352,109,849323,154,"})",881632,33,"top",852128,72,"tru",852204,34,849691,599,871728,112,"\"",850288,36,"'    <tpl if=\"this.compareDate(values.startdate)\">','        <div class=\"item\"",841248,38,"','    ",878023,46,867340,49,"</span>',\"            </div",857966,34,876767,34,"Do not start</span></div>',\"        </div>\",\"    </tpl>",849416,62,878384,71,"\"+AJAX_URL+\"",866928,34,"compareDate:function(b){var a=this.DateFormat(new Date());return b<=a?true:false",866960,32,"a?",866992,38,":s\")",850379,1322,871728,34,859408,65,"    </div>\",\"</div>",850288,95,",",878384,71,"\"+AJAX_URL+\"",864064,49,851810,938,871728,157,852796,175,",",878384,71,"\"+AJAX_URL+\"",864064,38,852976,368,"itemId:\"startReviewEdit",830256,48,"Edit\"",853326,1156,"b.sort(\"startdate\",\"DESC\"",854480,2215,",{xtype:\"hiddenfield\",itemId:\"registrationFlag\",name:\"registrationFlag\",value:true",892448,34,820522,202,904080,95,"login",842880,34,"Login",878992,44,"new",864318,34,857150,1311,"cover;background-image:url('\"+AJAX_URL+\"",866928,110,858598,1438,"cover;background-image:url('\"+AJAX_URL+\"",866928,130,849568,78,860271,2902,"\"+AJAX_URL+\"",864064,38,863211,853,"\"+AJAX_URL+\"",864064,2837,"cover;background-image:url('\"+AJAX_URL+\"",866928,635,"top",852128,64,867633,4402,"\"+AJAX_URL+\"",864064,38,877246,213,872286,672,"\"+AJAX_URL+\"",864064,35,878515,39,891870,39,879200,142,873213,649,"true",892204,36,873903,232,886217,43,"testButton\",ui:\"decline-round\",text:\"Test\"},",874127,77,",autoCapitalize",808912,33,"Location\",name:\"location\",autoCapitalize:true",874257,177,",autoCapitalize",882159,40,874469,71,"dd/mm/yyyy\",usePicker:false",883850,60,"}",874567,97,"itemId:\"sponsorName",881369,33,",autoCapitalize:true",809662,40,874735,38,"itemId:\"mytextfield5",874771,57,"top",875232,168,"true",874994,232,"top",875232,355,910048,36,885165,33,875639,1111,878014,441,"\"+AJAX_URL+\"",864064,38,877246,1209,"\"+AJAX_URL+\"",864064,35,878515,39,"docked:\"top",880142,86,878940,141,842736,35,"top\"",878560,247,864359,48,"divisionDetailsEdit\",width:\"100%\",hideOnMaskTap:true",836350,46,879164,167,"name",843597,32,879363,300,"field\",hidden:true,itemId:\"optionTxt\",label:\"Option Text\",name:\"optionTxt\"},{xtype:\"textareafield\",styleHtmlContent:true",879673,181,879997,107,878718,42,879854,101,892576,50,880154,161,"hidden:true",886333,85,880399,62,"\"\"",880464,75,"height:\"",880537,32,880582,42,"height:550",880623,73,871728,164,"'        <tpl if=\"values.sponsorid",876750,51," - {sponsorid",878220,67,867340,142,",",878384,71,"\"+AJAX_URL+\"",864064,38,880952,255,"docked:\"top",852128,64,875296,61,874960,50,860400,38,881187,35,"docked:\"top",881220,104,881557,76,809663,32,881347,50,"Name",901440,34,881435,113,"]",886384,34,"ace",879119,56,881207,35,809248,33,882042,259,883869,41,"}",861712,39,879792,44,882447,341,"Name",901440,34,881435,113,892576,50,886174,160,"hidden:true",886333,85,"aceAddFrm",806512,44,"title:\"",883299,2857,"top",852128,64,880207,192,838779,36,864444,38,886492,616,857776,160,872784,174,"\"+AJAX_URL+\"",864064,68,"top",852128,64,887517,166,",listeners:[{fn:\"onSeriesSelectChange\",event:\"change\",delegate:\"#seriesSelect\"}]},onSeriesSelectChange:function(a,d,b,c){a.setAutoSelect(null)",887683,539,"WHERE cast(createddate as date) < curdate() order by createddate desc, name",839823,53,908174,35,"WHERE cast(startdate as date) < curdate()\"}}",888334,454,"#0000FF",888792,70,"#0000FF",742156,85,";k",743148,50,"l}}});g.down(\"#raceAddFrm\").add({xtype:\"container\",itemId:\"raceAccordionLayout\",height:200,label:\"Accordion\",layout:{type:\"accordion\",toggleOnTitlebar:false,mode:\"SINGLE\"",889005,1930,"hidden:true",890934,3376,",minHeight:150",833504,38,838622,99,862960,52,892072,67,"]},",890655,39,873423,56,903693,44,"ff",903738,41,"ff",826479,42,894798,1735,839823,61,839664,32,818223,56,896747,127,896915,885,",APPID:\"8fc3a8dd56a875a4e72d3d2aa4110df9",897799,658,"top",898463,96,890781,47,898607,121,"hidden:true",898727,98,"height:300",891869,45,898869,592,",",824304,35,"PortalWizard",878916,38,"keyboardCt\"",824397,1250,"]}]},{xtype:\"container\",height:200",901189,58,899487,233,893357,43,899761,57,901232,2390,"top",880142,65,903693,914,"style:\"border-bottom: 1px solid #D9D9D9",904605,738,"top",852128,64,905413,153,839424,61,"f",839486,50,905868,222," order by bname ASC ",906090,91,653871,62,906202,177,"WHERE cast(created",834782,32,830736,54,839983,45,844416,95,906580,426,",APPID:\"8fc3a8dd56a875a4e72d3d2aa4110df9",907005,4218,",\"MyButton193",911222,319,"cctests.com",911555,2568,914126,342]