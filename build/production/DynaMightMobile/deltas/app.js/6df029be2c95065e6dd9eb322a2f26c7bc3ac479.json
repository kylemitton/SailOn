["function _8caf3f5830a4610c8321b4dc870ad0a639aeefb1",50,318247,"DynaMightMobile.override.field.Text\",{override:\"Ext.field.Text\",onKeyUp:function(b){var a=this.element;this.fireAction(\"keyup\",[this,b],\"doKeyUp\");if(!a.hasCls(\"backgroundtext\")){a.addCls(\"backgroundtext\")}}",318382,33,567039,38,318353,100184,"APP={Fields:[],User:{},Entities:[],Menu:[]};APP.WarningUnsavedData=false;AJAX_URL=\"\";AJAX_HANDLER=\"\";function GetTemplate(c,a){var b;if(c==\"boat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"myboat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.name,50)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"boattime\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\" | <b>\"+a.endtime.split(\" \")+\" </b></div></div>\"}else{if(c==\"boatadd\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"menu\"){b='<div class=\"menuItem\" style=\"background-color:lightgray\"><br/><br/><img src=\"'+AJAX_URL+\"../common/\"+(a.mobiletemplate?a.mobiletemplate:\"star.png\")+'\" width=\"80px\" height=\"80\"/><br/><br/><div class=\"name\">'+Ext.String.ellipsis(a.name,20)+\"</div></div>\"}else{if(c==\"raceboat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+Ext.String.ellipsis(a.rname,25)+'</div><div class=\"vicinity\">'+a.hullnumber+'</div><div class=\"vicinity\">'+(a.skippername?a.skippername:\" - \")+\"</div></div>\"}else{if(c==\"race\"){b='<div class=\"item\"><div class=\"name\">'+a.name+'</div>",833552,34,"'+a.startdate+\"</div></div>\"}else{if(c==\"boatresult\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+a.hullnumber+\"<br/>\"+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">Time: '+(a.endtime?a.endtime:\"\")+' </b></div><div class=\"vicinity\">Handicap: '+(a.handicap?a.handicap:\"\")+\" </div></div>\"}}}}}}}}return b}function BoatFilter(b){var a=this.getValue().toLowerCase();return b.get(\"bname\").toLowerCase().indexOf(a)>-1||b.get(\"hullnumber\").toLowerCase().indexOf(a)>-1}function IsNull(b,a){return b?b:a}function GetEntityView(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].entityid==a){return c[b]}}return\"\"}function GetDisplayField(a){for(var b=0;b<a.length;b++){if(a[b]._name.indexOf(\"id\")==-1){return a[b]._name}}return\"\"}function CreateModel(e,c){var a=[\"sysrowstate\"],b=\"\";",659227,34,"e)){for(var d=0;d<APP.Fields.length;d++){var f=APP.Fields[d];if(f.entityid==c){a.push({name:f.name});if(f.iseditable==\"1\"){b+=(b?\",\":\"\")+f.name}}}Ext.define(e,{extend:\"Ext.data.Model\",requires:[],config:{fields:a,entityFields:b},entityFields:b})}return a}function GetEntityView(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].entityid==a){return c[b]}}return\"\"}function GetEntityByName(a){for(i=0;i<APP.Entities.length;i++){rec=APP.Entities[i];if(rec.name==a){return rec}}return null}function CreateStore(c){var a=GetEntityByName(c),d=localStorage.goOffline,e=\"SQL\",b=d?\"DynaMightMobile.model.\"+a.name+e:\"DynaMightMobile.model.\"+a.name;CreateModel(b,a.entityid);store=new Ext.data.Store({model:b});return store}function GetFieldsByEntity(b){var e,d,c,a=\"\";for(c=0;c<APP.Fields.length;c++){e=APP.Fields[c];if(e.entityid!=b||e.isonlyview==\"1\"){continue}a+=(a?\",\":\"\")+e.name}return a}function GetEntityViewByName(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].name==a){return c[b]}}return\"\"}function AJAXCommand(a){",653213,50,"You are working offline. Action could not be completed!\");return}var b={object:a.object||\"Business\",method:a.method,params:a.params,security:{userID:0}};var c=Ext.JSON.encode(b)",658381,32,"AJAX_HANDLER,method:\"POST\",params:{command:c},scope:a.scope?a.scope:null,success:function(d){var e=Ext.decode(d.responseText);if(e.success){if(a.callback){a.callback(true,e.message,e,a.scope)}}else{this.onFailure(d)}},failure:this.onFailure,timeout:60000,onFailure:function(e,d){Ext.Msg.show({title:T(\"Application errorr\"),msg:T(\"Application error!\")",662912,52,",onSuccess:function(){}})}function replaceHTMLSpCharacters(a){if(a!==null){a=a.replace(/\\\\/g,\"\\\\\\\\\");a=a.replace(/\\r/g,\"\\\\r\");a=a.replace(/\"/g,'\\\\\"')}return a}Ext.define(\"DynaMightMobile.override.data.Store\",{override:\"Ext.data.Store\",autoLoad:false,wasI",131932,41,"var b=this;a=a||{};b.callParent([Ext.apply(b.processEntityStore({}),a)])},processEntityStore:function(a){a.gridConfig={object:\"BusinessEntity\",gridClass:\"WorkforceGrid\",method:\"GetEntityView\",callback:function(e,d,f){}};a.storeId=\"MyModel\";return a},execConfig:function(a){var b=localStorage.goOffline;if(!this.wasInitialized){this.applyDefaultConfig()}if(this.gridConfig){a=Ext.applyIf(a||{},this.gridConfig)}var c={object:a.object||\"BusinessEntity\",method:a.method||\"GetEntityView\",params:a.params?a.params:null,security:{}};if(!b){var d=Ext.JSON.encode(c);this._proxy._extraParams={command:d}}if(a.callback){}this.load(a.callback?{callback:a.callback,scope:a.scope}:{})},applyDefaultConfig:function(){var c=this;var b=localStorage.goOffline,a=b?\"Sql\":\"Ajax\";this.setProxy(Ext.create(\"Ext.data.proxy.\"+a,{actionMethods:{create:\"POST\",destroy:\"POST\",read:\"POST\",update:\"POST\"},url:AJAX_URL+AJAX_HANDLER,reader:{type:\"json\",rootProperty:\"records\"},batchActions:false}));this.wasInitialized=true},getAllRecords:function(b){var e=[];var d=this.getNewRecords();for(var c=0;c<d.length;c++){var a=d[c];e.push(a.data)}d=this.getRemovedRecords();for(var c=0;c<d.length;c++){var a=d[c];e.push(a.data)}return e},getFilteredRecords:function(b){var e=[];var d=this.getData().items;for(var c=0;c<d.length;c++){var a=d[c];e.push(a.data)}return e",418533,229882,";this.getController(\"Navigation\").onNavigate",696448,62,648475,2860,"S",651336,10830,662184,72,662274,11047,",select:\"onBoatsViewSelect",673320,10086,"onBoatsView",674971,34,"d.getBFinish",683380,3183,713687,54,686563,1719,"LastNameTxt\").setValue(d.get(\"skipper",688385,3596,"d,h,c",689806,33,";",692744,339,692048,85,"onNavigate()}).delay(400",692170,33,"b,g,a",692208,35,"h,c;alert(\"resgitration form:\"+this.getRegistrationLoginFrm());h=this.getRegistrationLoginFrm();c",692246,59,"400,itemId:\"boatDetailsPopupFrm\",scrollable:true,listeners:{painted:function(j,e,k){this.setValues(d.boat.data);alert(\"gi:\"+this.getValues().alterSailnumber+\"name:\"+this.getValues().hullnumber+\"b:\"+e+\"c:\"+k);alert(\"asn:\"+this.getRegistrationLoginFrm())}}});c.setModal(true);c.showBy(b",692411,326,692203,41,709434,32,"d.confirmTC(",693082,376,"getController(\"Navigation\").onNavigate(",693470,1704,"a-1",697344,48,"Results",713599,45,695275,548,695869,437,"division",696188,437,"DoneBtn",702399,36,"2",683403,51,696773,706,"homePanel:\"panel#homePanel",697477,4851,";this.getController(\"Navigation\").onNavigate()},on",722991,32,702364,60,"getController(\"Navigation\").onNavigate(",702436,1788,"startReviewBackBtn:\"button#startReviewBackBtn",704222,562,"startReviewEditBtn:\"button#startReviewEdit",704779,937,",\"button#startReviewEditBtn\":{tap:\"onStartReviewEditBtnTap\"}}",854745,32,705749,3984,";if(e.getEntrantsList()==null){return}a=e",705855,32,710064,42,709809,783,"onStartReviewEditBtnTap:function(b,c,a){this.getStartReviewEditBtn().setDisabled(true)",710590,6169,"if(!d.down(\"registrationFlag\").getValue()){return",716753,39,662864,37,716828,5051,721893,2782,"getController(\"Navigation\").onNavigate(",724687,3177,",optionValueTxt:\"textfield#optionValueTxt\",optionTxt:\"textfield#optionTx",727736,46,727864,1571,",\"button#backBtn1\":{tap:\"onBackBtn1Tap",729433,688,"(b+a)",730124,33,"u,b){var w=this,j=w.getRacesList().getStore(),c=w.getNewTxt().getValue(),x=w",731644,34,".name,f=w",731644,34,".sponsorname,r,p=w",730278,50,"g=w",730331,50,"n=p.getFullYear(),l=p.getMonth(),v=p.getDate(),s=g.getHours(),o=g.getMinutes(),k=new Date(n,l,v,s,o,0,0);function t(h){var z=new Date(h||Date.now()),y=\"\"+(z.getMonth()+1),e=\"\"+z.getDate(),m=z.getFullYear();if(y.length<2){y=\"0\"+y}if(e.length<2){e=\"0\"+e}return[y,e,m].join(\"/\")}if(c){for(var q=0;q<c;q++){k.setDate(k.getDate());r=[{name:x+\" - Race \"+(q+1),startdate:k,sponsorid:f}];j.insert(j.data.length,r",730773,37,"c,d,h){var f=this.getDivisionsList(),b=f.selected,g=this.getRaceDivisionsList(),k=g.getStore(),a=f.getStore(),j;if(b.length==0){return}else{rec=b.get(0)}AJAXCommand({params:{name:rec.get(\"name\"),groupname:rec.get(\"groupname\"),handicaptype:rec",737090,35,"rec",737126,34,"rec.get(\"description\")",737173,42,"e,m,n,l){if(e){k.add({divisionid:n.result,name:rec.get(\"name\"),groupname:rec.get(\"groupname\"),handicaptype:rec",737090,35,"rec",737126,34,"rec.get(\"description\")}",669759,41,737270,79,730939,304,";this.getDivisionsList().getStore().add(f);this.getDivisionsList().refresh(",731242,36,"f,j,d){var g=this;var c=g.getDivisionDetailsEdit(),h=g.getSeries",688174,42,"a=1;g.getDivisionDetailsEdit().reset();g.getOptionTxt().setValue(\"new\");g",735648,39,"DelRace",675951,36,731519,1032,";this.getController(\"Navigation\").onNavigate",732549,486,"var p=l.getRaceDetailsEdit();p.setCentered(true);p.setWidth(\"50%\");p.setHeight(\"50%\");p.setModal(true);p.showBy(f",733070,882,"o",733953,147,"c=d.get(0);l.getDivisionDetailsEdit().setRecord(c);this.getDivisionDetailsEdit().setRecord(c);this.getOptionTxt().setValue(\"edit\");l",735648,40,734231,762,"f,b,d){if(f==\"CBH\"){var e=",735087,51,";if(e!=null){e.setHidden(false)}}else{var c=",735087,41,"value\");if(c!=null){c.setHidden(true)}}},onSeries",680687,36,735201,100,729463,80,"f.getOptionTxt().getValue()==\"new\"){f.newDevision()}else{f.updateDevision()}f",735342,72,";f.getOptionTxt().setValue(null",735413,324,"RaceDetailsEdit().hide(",735804,74,"RaceDetailsEdit().hide(",735945,309,"f,h){var b",733961,33,"c",733995,38,"j",736607,43,"var k=g.getStore();if(c.length==0){return}else{b=c.get(0)}a=b.get(\"divisionid\")",711307,60,"move '\"+b.get(\"name\")+\"'?\",function(e){if(e===\"yes\"){",737002,32,"a},method:\"deleteDivision\",callback:function(l,n,o,m){if(l){k.load();g.refresh",669758,35,"delet",737266,82,"})",736356,39,"},on",696628,33,"getController(\"Navigation\").onNavigate(",736500,327,"name\",f.groupname",736836,147,"A",736985,56,"f.name,groupname:f.groupname,handicaptype:f.handicaptype,handicapvalue:f.handicapvalue",737147,200,736948,35,"ASC\")},newDevision:function(){var d,b,m,j=this,h=j.getRaceDivisionsList(),o=j.getDivisionDetailsEdit(),e=j.getDivisionsList().selected;var f=o.down(\"#optionTxt\");var a,g,k,l,n;if(f.getValue()!=null&&f.getValue()!=\"\"){m=o.getValues();a=m.name;g=m.groupname;k=m.handicaptype;l=m.handicapvalue;n=m.description}else{d=e.get(0);a=d.get(\"name\");g=d.get(\"groupname\");k=d.get(\"handicaptype\");l=d.get(\"handicapvalue\");n=d.get(\"description\")}var c=h.getStore();AJAXCommand({params:{name:a,groupname:g,handicaptype:k,handicapvalue:l,description:",737172,43,"p,r,s,q){if(p){store.add({divisionid:s.result,name:a,groupname:g,handicaptype:k,handicapvalue:l,description:n}",669759,41,737270,77,";c.sort(\"name\",\"ASC\"",737346,1040,"l,k",738389,67,",j",723996,73,"j=Ext.create(\"Ext.form.Panel\",{modal:true",809488,35,"assword\",name:\"auth",807950,33,"button\",docked:\"right\",itemId:\"verifyPassword",812567,50,"Save\",listeners:[{fn:\"onVerifyPasswordBtnTap\",event:\"tap\",delegate:\"#saveBoatBtn\"}],onVerifyPasswordBtnTap:function(n,o,m){alert(\"TODOL tap textpassword:\"+this.down(\"#authpassword\").getValue()+\",frm pass:\"+rm.down(\"#password\").getValue());if(j.down(\"#authpassword\").getValue()!=frm.down(\"#password\")",726696,34,"Incorrect Password\",message:\"Please introduce a correct password",690832,53,";return}}}]}).showBy(b);",718486,35,"g",718522,53,738618,63,"n,m,e,o",738688,68412,"top\"",869182,98,807205,325,"container\",docked:\"top",873232,58,809795,81,"docked:\"left",809874,80,810192,319,881168,40,"alterSailnumber\",label:\"Alternative Sail Number\",name:\"alterSailnumber",807824,539,"kippe",808364,971,883532,71,"}",811948,40,812077,45,884416,60,"}",808384,91,812213,44,809566,149,821136,38,809992,2045,884416,60,"}",811948,40,812077,45,884416,60,"}",808384,91,812213,3447,"cover;background-image:url('\"+AJAX_URL+\"",871824,33,866750,237,814960,42,848752,137,886573,131,815887,33,816300,190,"top",816496,3897,820667,214,903984,40,"Login\"",864479,35,820464,193,856719,39,856768,47,820992,59,828648,38,"LoginBtn1",862224,40,871135,36,821174,188,"0",821363,259,880734,39,822198,51,"padding:10,ui:\"plain\",iconCls:\"user\",text:\"",822079,54,822019,179,821892,84,821639,69,"6",821709,166,809952,40,822315,719,"MyButton193\",{extend:Ext.Button,alias:\"widget.mybutton193\",config:{",842762,60,"<< Back\"",890064,37,823034,990,"\"+AJAX_URL+\"",871824,36,879455,49,824131,2187,894512,36,826340,7598,"top",816496,63,834007,6391,873536,65,840480,157,840651,722,"cover;background-image:url('\"+AJAX_URL+\"",871824,33,866750,86,832671,34,841544,862,"cover;background-image:url('\"+AJAX_URL+\"",871824,33,866750,104,"docked:\"top",816496,64,894512,36,842684,46,842828,416,"hidden:true",843243,118,"decline-round\",text:\"<< ",843382,83,"division",851376,39,"searchfield\",flex:1,itemId:\"resBoatSearch\",width:410",843549,164,"e",817876,34,"d=CreateStore(\"raceboat\"),g",895887,36,"division\"),c,a",712782,35,"e.boatStore=d;e",865420,70,"RR\").raceresultid,filters:\"\"}});e.boatStore=d",665454,86,"\" ",870638,52,"e.raceStore=g",853712,57,870511,41,818015,56,896926,42,"a",887648,66," ",870319,34," WHERE createddate < now() group by divisionname\"}});e.divisionStore=a;e",844304,40,"b);c",844348,87,"e.down(\"#yearCmb\").setStore(c);e",844467,34,"a);e.down(\"#resRaceCmb\").setStore(g",813888,33,844569,4320,886573,69,833024,60,832671,46,833773,40,849104,162,863886,35,"top",816496,64,894512,36,849471,608,859167,112,"\"",851488,36,"'    <tpl if=\"this.compareDate(values.startdate)\">','        <div class=\"item",842239,39,"','    ",877744,46,848847,42,"date)]}</span>',\"            </div",840879,34,876509,34,"Do not start</span></div>',\"        </div>\",\"    </tpl>",850111,61,",",858207,43,"cover;background-image:url('\"+AJAX_URL+\"",871824,33,",compareDate:function(b){var a=this.DateFormat(new Date());return b<=a?true:false},",848928,70,":s\"):\"\"}})",893008,42,850216,1274,859167,34,866064,65,"    </div>\",\"</div>",851488,95,",",858207,43,"cover;background-image:url('\"+AJAX_URL+\"",871824,38,836492,37,851625,912,862639,157,"d",848800,61,852647,113,",",858207,43,"cover;background-image:url('\"+AJAX_URL+\"",871824,47,857455,38,852812,321,"itemId:\"startReviewEdit",830075,48,"Edit",828208,33,853147,1124,"b.sort(\"startdate\",\"DESC\"",854269,2215,",{xtype:\"hiddenfield\",itemId:\"registrationFlag\",name:\"registrationFlag\",value:true",901167,34,820679,274,856791,1459,"cover;background-image:url('\"+AJAX_URL+\"",871824,33,866750,77,858387,1438,"cover;background-image:url('\"+AJAX_URL+\"",871824,33,866750,97,853248,100,"nextS",874688,35,862157,154,810096,53,860329,2633,"\"+AJAX_URL+\"",871824,58,863020,833,"\"+AJAX_URL+\"",871824,38,828432,64,873231,63,864018,2672,"cover;background-image:url('\"+AJAX_URL+\"",871824,33,866750,602,"top",816496,86,867444,4380,"\"+AJAX_URL+\"",871824,923,"\"+AJAX_URL+\"",878176,74,837360,39,872860,791,"true",891854,36,873692,232,856958,43,"testButton\",ui:\"decline-round\",text:\"Test\"},",873916,77,",autoCapitalize",807968,33,"Location\",name:\"location\",autoCapitalize:true",874046,177,",autoCapitalize:true",874223,93,"placeHolder:\"dd/mm/yyyy\",usePicker:false",884416,60,"}",874331,97,"itemId:\"sponsorName",881070,33,",autoCapitalize:true",881103,52,"logo\"},{xtype:\"textfield\",itemId:\"mytextfield5",874535,57,"top",874989,155,"left\",hidden:true,itemId:\"backBtn1",862224,39,874807,176,"top",874989,155,865068,32,864112,40,",",886160,32,875230,95,817023,36,875344,1585,"\"+AJAX_URL+\"",871824,251,"del",872224,37,872189,77,877297,879,"\"+AJAX_URL+\"",878176,74,"docked:\"top",894252,65,878602,162,842543,35,"top\",maxHeight:50",878256,234,857023,48,"divisionDetailsEdit\",width:\"100%\",hideOnMaskTap:true",838608,46,878847,167,"na",829792,34,879046,300,"field\",hidden:true,itemId:\"optionTxt\",label:\"Option Text\",name:\"optionTxt\"},{xtype:\"textareafield\",styleHtmlContent:true",879356,181,879680,107,",",879496,142,903232,103,885919,108,"hidden:true",879997,147,"\"",807598,62,"docked:\"left\",height:\"\",margin:\"0 0 5 10\",width:\"90%",880281,44,"height:550",880324,73,862639,162,"','        <tpl if=\"values.sponsorid",876492,51," - {sponsorid",876694,67,848847,42,886573,100,",",858207,43,"cover;background-image:url('\"+AJAX_URL+\"",871824,58,"docked:\"lef",863055,100,880784,124,"docked:\"top",816496,86,882768,127,880888,35,"docked:\"top",880921,104,881258,76,881168,40,881056,42,"N",881099,150,"]",880048,44,"Edit",823120,45,880908,35,820368,33,881743,259,883562,41,"}",850272,39,882096,385,"N",881099,150,903232,66,873232,50,879904,94,"hidden:true",879997,88,"Add",874927,37,"fieldset\",title:\"",882992,2857,"top",816496,78,879904,178,886111,690,678352,41,866048,119,860576,44,862832,130,"\"+AJAX_URL+\"",871824,38,"]},",898080,39,830175,62,887217,159,",listeners:[{fn:\"onSeriesSelectChange\",event:\"change\",delegate:\"#seriesSelect\"}]},onSeriesSelectChange:function(a,d,b,c){a.setAutoSelect(null)",887376,539,"WHERE cast(createddate as date) < curdate() order by createddate desc, name",896207,53,887968,35,"WHERE cast(startdate as date) < curdate()\"}});d.sort(\"name\",\"ASC\"",888006,433,"#0000FF",888443,73,"00FF",888520,156,"AddFrm\").add({xtype:\"container\",itemId:\"raceAccordionLayout\",height:200,label:\"Accordion\",layout:{type:\"accordion\",toggleOnTitlebar:false,mode:\"SINGLE\"",888659,1900,"false,docked:\"left",892264,33,890597,51,"<< ",890648,3312,",minHeight:150",816238,38,893998,248,"top",894252,1931,896207,88,896336,188,896565,885,",APPID:\"8fc3a8dd56a875a4e72d3d2aa4110df9",897449,895,"false,docked:\"left",892264,33,898382,50,"<< ",898432,35,"height:300",852352,47,898513,590,899451,58,"right\",hidden:false,itemId:\"keyboardCt\"",824216,1250,"]}]},{xtype:\"container\",height:200",900831,58,899129,233,899360,100,900874,2205,"85",894063,183,"top",894252,109,"n",894363,41,822078,35,903456,793,"style:\"border-bottom: 1px solid #D9D9D9",895310,84,895758,34,904365,620,"top",816496,86,905077,131,839243,61,"f",839305,50,"f",839356,52,",e",865391,43,"b",665456,55,905664,68," order by bname ASC \"}}",818013,88,905823,250,"created",906078,652,",APPID:\"8fc3a8dd56a875a4e72d3d2aa4110df9",906729,4218,",\"MyButton193",910946,319,"cctests",911427,165,911597,2749]