["function _8caf3f5830a4610c8321b4dc870ad0a639aeefb1",50,418709,"APP={Fields:[],User:{},Entities:[],Menu:[]};APP.WarningUnsavedData=false;AJAX_URL=\"\";AJAX_HANDLER=\"\";function GetTemplate(c,a){var b;if(c==\"boat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"myboat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.name,50)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"boattime\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\" | <b>\"+a.endtime.split(\" \")+\" </b></div></div>\"}else{if(c==\"boatadd\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+a.hullnumber+\"</div></div>\"}else{if(c==\"menu\"){b='<div class=\"menuItem\" style=\"background-color:lightgray\"><br/><br/><img src=\"'+AJAX_URL+\"../common/\"+(a.mobiletemplate?a.mobiletemplate:\"star.png\")+'\" width=\"80px\" height=\"80\"/><br/><br/><div class=\"name\">'+Ext.String.ellipsis(a.name,20)+\"</div></div>\"}else{if(c==\"raceboat\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">'+Ext.String.ellipsis(a.rname,25)+'</div><div class=\"vicinity\">'+a.hullnumber+'</div><div class=\"vicinity\">'+(a.skippername?a.skippername:\" - \")+\"</div></div>\"}else{if(c==\"race\"){b='<div class=\"item\"><div class=\"name\">'+a.name+'</div>",835584,34,"'+a.startdate+\"</div></div>\"}else{if(c==\"boatresult\"){b='<div class=\"item\" style=\"'+(a.signondate?\"background-color:#008A2E\":\"\")+'\"><div class=\"name\">'+a.hullnumber+\"<br/>\"+Ext.String.ellipsis(a.bname,20)+'</div><div class=\"vicinity\">Time: '+(a.endtime?a.endtime:\"\")+' </b></div><div class=\"vicinity\">Handicap: '+(a.handicap?a.handicap:\"\")+\" </div></div>\"}}}}}}}}return b}function BoatFilter(b){var a=this.getValue().toLowerCase();return b.get(\"bname\").toLowerCase().indexOf(a)>-1||b.get(\"hullnumber\").toLowerCase().indexOf(a)>-1}function IsNull(b,a){return b?b:a}function GetEntityView(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].entityid==a){return c[b]}}return\"\"}function GetDisplayField(a){for(var b=0;b<a.length;b++){if(a[b]._name.indexOf(\"id\")==-1){return a[b]._name}}return\"\"}function CreateModel(e,c){var a=[\"sysrowstate\"],b=\"\";",660921,34,"e)){for(var d=0;d<APP.Fields.length;d++){var f=APP.Fields[d];if(f.entityid==c){a.push({name:f.name});if(f.iseditable==\"1\"){b+=(b?\",\":\"\")+f.name}}}Ext.define(e,{extend:\"Ext.data.Model\",requires:[],config:{fields:a,entityFields:b},entityFields:b})}return a}function GetEntityView(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].entityid==a){return c[b]}}return\"\"}function GetEntityByName(a){for(i=0;i<APP.Entities.length;i++){rec=APP.Entities[i];if(rec.name==a){return rec}}return null}function CreateStore(c){var a=GetEntityByName(c),d=localStorage.goOffline,e=\"SQL\",b=d?\"DynaMightMobile.model.\"+a.name+e:\"DynaMightMobile.model.\"+a.name;CreateModel(b,a.entityid);store=new Ext.data.Store({model:b});return store}function GetFieldsByEntity(b){var e,d,c,a=\"\";for(c=0;c<APP.Fields.length;c++){e=APP.Fields[c];if(e.entityid!=b||e.isonlyview==\"1\"){continue}a+=(a?\",\":\"\")+e.name}return a}function GetEntityViewByName(a){var c=APP.Menu;for(var b=0;b<c.length;b++){if(c[b].name==a){return c[b]}}return\"\"}function AJAXCommand(a){",654907,50,"You are working offline. Action could not be completed!\");return}var b={object:a.object||\"Business\",method:a.method,params:a.params,security:{userID:0}};var c=Ext.JSON.encode(b)",660075,32,"AJAX_HANDLER,method:\"POST\",params:{command:c},scope:a.scope?a.scope:null,success:function(d){var e=Ext.decode(d.responseText);if(e.success){if(a.callback){a.callback(true,e.message,e,a.scope)}}else{this.onFailure(d)}},failure:this.onFailure,timeout:60000,onFailure:function(e,d){Ext.Msg.show({title:T(\"Application errorr\"),msg:T(\"Application error!\")",691360,52,",onSuccess:function(){}})}function replaceHTMLSpCharacters(a){if(a!==null){a=a.replace(/\\\\/g,\"\\\\\\\\\");a=a.replace(/\\r/g,\"\\\\r\");a=a.replace(/\"/g,'\\\\\"')}return a}",318285,37,418796,231313,698523,46,650109,24870,",select:\"onBoatsViewSelect",674978,10086,"onBoatsView",676629,34,"d.getBFinish",685038,3183,715834,54,688221,1719,"LastNameTxt\").setValue(d.get(\"skipper",690043,3596,"d,h,c",723344,34,694436,339,660446,37,710365,48,"onNavigate()}).delay(400",693862,33,"b,g,a",693900,35,"h,c;alert(\"resgitration form:\"+this.getRegistrationLoginFrm());h=this.getRegistrationLoginFrm();c=new ",740861,32,"({width:\"100%\",height:400,itemId:\"boatDetailsPopupFrm\",scrollable:true,listeners:{painted:function(j,e,k){this.setValues(d.boat.data);alert(\"gi:\"+this.getValues().alterSailnumber+\"name:\"+this.getValues().hullnumber+\"b:\"+e+\"c:\"+k);alert(\"asn:\"+this.getRegistrationLoginFrm())}}});c.setModal(true);c.showBy(b",694103,326,693895,41,670992,32,"d.confirmTC(",694774,2119,"a-1",651264,44,696938,86,697057,547,697650,408,"division",697818,118,698058,366,698603,754,"homePanel:\"panel#homePanel",699355,4851,698523,46,704206,7586,";if(e.getEntrantsList()==null){return}",711791,7115,"if(!d.down(\"registrationFlag\").getValue()){return",718900,39,696254,32,718970,5056,724040,5998,",optionValueTxt:\"textfield#optionValueTxt\",optionTxt:\"textfield#optionTx",729910,46,730038,2297,"(b+a)",732338,680,"id",733022,66,"c,d,h){var f=this.getDivisionsList(),b=f.selected,g=this.getRaceDivisionsList(),k=g.getStore(),a=f.getStore(),j;if(b.length==0){return}else{rec=b.get(0)}AJAXCommand({params:{name:rec.get(\"name\"),groupname:rec.get(\"groupname\"),handicaptype:rec",739803,35,"rec",739839,34,"rec.get(\"description\")",739886,42,"e,m,n,l){if(e){k.add({divisionid:n.result,name:rec.get(\"name\"),groupname:rec.get(\"groupname\"),handicaptype:rec",739803,35,"rec",739839,34,"rec.get(\"description\")}",671417,41,739983,79,"onAllDivisions",724368,40,724409,53,724463,67,733391,130,";",736568,34,".add(f);this.getDivisionsList().refresh(",733520,36,"f,j,d){var g=this;var c=g.getDivisionDetailsEdit(),h=g.getSeries",689832,42,"a=1;g",733752,34,"g.getOptionTxt().setValue(\"new\");g",732302,33,"3",733805,1080,698523,46,734885,484,"var p=l.getRaceDetailsEdit();p.setCentered(true);p.setWidth(\"50%\");p.setHeight(\"50%\");p.setModal(true);p.showBy(f",735404,807,735166,101,"DivisionsList(),d",738699,38,"m",736368,46,"d.length==0){return}c=d.get(0);l",736523,36,"c",736517,42,"c);this.getOptionTxt().setValue(\"edit\"",733712,38,736627,767,"f,b,d){if(f==\"CBH\"){var e=",737488,51,";if(e!=null){e.setHidden(false)}}else{var c=",737488,41,"value\");if(c!=null){c.setHidden(true)}",737555,147,731677,80,"f.getOptionTxt().getValue()==\"new\"){f.newDevision()}else{f.updateDevision()}f",737743,72,";f.getOptionTxt().setValue(null",737814,324,"RaceDetailsEdit().hide(",738205,74,"RaceDetailsEdit().hide(",738346,307,"d,f,h){var b,a,g",738669,68,"j",736368,43,"var k=g.getStore();if(c.length==0){return}else{b=c.get(0)}a=b.get(\"divisionid\")",713454,60,"move '\"+b.get(\"name\")+\"'?\",function(e){if(e===\"yes\"){",739715,32,"a",738898,44,"l,n,o,m){if(l){k.load();g.refresh",671416,35,"delet",739979,82,739097,444,"name\",f.groupname",739550,204,"f.name,groupname:f.groupname,handicaptype:f.handicaptype,handicapvalue:f.handicapvalue",739860,200,739662,40,"},newDevision:function(){var d,b,m,j=this,h=j.getRaceDivisionsList(),o=j.getDivisionDetailsEdit(),e=j.getDivisionsList().selected;var f=o.down(\"#optionTxt\");var a,g,k,l,n;if(f.getValue()!=null&&f.getValue()!=\"\"){m=o.getValues();a=m.name;g=m.groupname;k=m.handicaptype;l=m.handicapvalue;n=m.description}else{d=e.get(0);a=d.get(\"name\");g=d.get(\"groupname\");k=d.get(\"handicaptype\");l=d.get(\"handicapvalue\");n=d.get(\"description\")}var c=h.getStore();AJAXCommand({params:{name:a,groupname:g,handicaptype:k,handicapvalue:l,description:",739885,43,"p,r,s,q){if(p){store.add({divisionid:s.result,name:a,groupname:g,handicaptype:k,handicapvalue:l,description:n}",671417,41,739983,77,";c.sort(\"name\",\"ASC\"",740059,1040,"l,k",741102,67,",j",726143,73,"j=Ext.create(\"Ext.form.Panel\",{modal:true",814128,34,"Password\",name:\"auth",810663,33,"button\",docked:\"right\",itemId:\"verifyPassword",815280,50,"Save\",listeners:[{fn:\"onVerifyPasswordBtnTap\",event:\"tap\",delegate:\"#saveBoatBtn\"}],onVerifyPasswordBtnTap:function(n,o,m){alert(\"TODOL tap textpassword:\"+this.down(\"#authpassword\").getValue()+\",frm pass:\"+rm.down(\"#password\").getValue());if(j.down(\"#authpassword\").getValue()!=frm.down(\"#password\")",741563,34,"Incorrect Password\",message:\"Please introduce a correct password",690527,61,"}}]}).showBy(b);",741242,152,"n,m,e,o",741401,68412,"top",833950,53,809872,371,"container\",docked:\"top",852015,36,812486,103,"docked:\"left",812587,80,",",855278,37,810272,281,905373,40,"alterSailnumber\",label:\"Alternative Sail Number\",name:\"alterSailnumber",811082,88,813296,451,"kippe",811077,971,887705,71,"}",814750,85,888589,60,"}",812144,284,859888,38,"BoatDetails1",858768,39,812756,1994,888589,60,"}",814750,85,888589,60,"}",812144,135,814970,3403,"cover;background-image:url('\"+AJAX_URL+\"..",870668,268,"H",890960,41,895951,53,818768,438,"top",863936,86,819298,4458,"hidden:true",823755,1991,"MyButton193\",{extend:Ext.Button,alias:\"widget.mybutton193\",config:{",845424,69,837808,37,"FBoat",837855,34,825786,950,"\"+AJAX_URL+\"..",876704,33,838960,61,826835,2176,845325,36,829033,7598,"top",863936,63,836700,7335,"cover;background-image:url('\"+AJAX_URL+\"..",870668,117,897391,34,844218,862,"cover;background-image:url('\"+AJAX_URL+\"..",870668,135,"docked:\"top",863936,64,845325,82,869088,32,845525,620,"division",895581,52,"flex:1,itemId:\"resBoatSearch\",width:41",846228,165,"e",820592,34,"d=CreateStore(\"raceboat\"),g",869261,36,"division\"),c,a",655407,33,");e.boatStore=d;e",869366,70,846589,32,"e.boatStore=d",901151,57,"Race",742572,33,846728,46,"e.raceStore=g;b",910400,60,891947,36,"f",900624,55,846941,42,910399,61,"Series ",820976,34," WHERE createddate < now() group by divisionname\"}});e.divisionStore=a;e",846984,40,"b);c",849834,37,847065,50,"e.down(\"#yearCmb\").setStore(c);e",847147,34,"a);e.down(\"#resRaceCmb\").setStore(g",847216,4765,"top",863936,64,845325,36,852087,1258,"\"+AJAX_URL+\"..",870668,32,853382,1735,"cover;background-image:url('\"+AJAX_URL+\"..",876704,33,855182,1328,"cover;background-image:url('\"+AJAX_URL+\"..",876704,33,890848,49,856624,3794,",{xtype:\"hiddenfield\",itemId:\"registrationFlag\",name:\"registrationFlag\",value:true",905456,34,"title:\"",865179,37,860495,1689,"cover;background-image:url('\"+AJAX_URL+\"..",870668,108,862324,1438,"cover;background-image:url('\"+AJAX_URL+\"..",870668,128,865952,105,879087,35,865616,149,"race",853952,34,864249,2653,"\"+AJAX_URL+\"..",876704,33,866940,856,"\"+AJAX_URL+\"..",876704,33,907520,104,867938,2698,"cover;background-image:url('\"+AJAX_URL+\"..",870668,633,"top",863936,86,871393,4380,"\"+AJAX_URL+\"..",876704,33,880986,216,"all",867184,38,876068,631,"\"+AJAX_URL+\"..",876704,902,"tru",877610,269,824559,43,"testButton\",ui:\"decline-round\",text:\"Test\"},",877871,77,",autoCapitalize",811216,33,"Location\",name:\"location\",autoCapitalize:true",878001,177,",autoCapitalize",814656,32,878205,79,"dd/mm/yyyy\",usePicker:false",888589,60,"}",878311,149,",autoCapitalize:true",885344,33,878493,45,"itemId:\"mytextfield5",878536,57,"top",878599,161,"hidden:true",878759,232,"top",878599,161,891546,66,",",890333,32,879257,95,819739,36,889199,33,879404,1111,"name",881757,58,"name",880573,375,"\"+AJAX_URL+\"..",876704,33,880986,771,"name",881757,58,"name",880573,375,"\"+AJAX_URL+\"..",876704,72,"docked:\"top",882558,227,845220,35,"top\",maxHeight:5",826944,39,882324,200,873295,44,"divisionDetailsEdit\",width:\"100%\",hideOnMaskTap:true",812816,46,882868,167,"name",883035,332,"field\",hidden:true,itemId:\"optionTxt\",label:\"Option Text\",name:\"optionTxt",883352,228,883723,107,882431,42,883580,101,898496,103,883933,108,"hidden:true",885775,95,902336,45,"height:\"",811807,62,"docked:\"left\",height:\"",884263,32,884308,42,"height:550",884349,235,"','        <tpl if=\"values.sponsorid",881757,51," - {sponsorid",880713,67,890704,142,884784,72,"\"+AJAX_URL+\"..",876704,33,884894,258,"docked:\"top",885616,213,885132,35,"docked:\"top",885165,417,884094,41,885870,376,888608,41,"}",841710,39,812448,37,886306,709,"hidden:true",885775,88,887102,57,887165,2857,"top",863936,78,883947,178,868143,74,890358,950,"\"+AJAX_URL+\"..",876704,33,907520,33,"top",863936,86,891471,144,",listeners:[{fn:\"onSeriesSelectChange\",event:\"change\",delegate:\"#seriesSelect\"}]},onSeriesSelectChange:function(a,d,b,c){a.setAutoSelect(null)",891615,539,910351,32,"< curdate() order by createddate desc, name",842335,53,892207,35,"WHERE cast(startdate as date) < curdate()\"}}",892266,454,"#0000FF",892724,70,"#0000FF",744752,85,";k",745744,50,"l}}});g.down(\"#raceAddFrm\").add({xtype:\"container\",itemId:\"raceAccordionLayout\",height:200,label:\"Accordion\",layout:{type:\"accordion\",toggleOnTitlebar:false,mode:\"SINGLE\"",892937,1930,"hidden:true",894866,3376,",minHeight:150",836016,38,841134,99,895952,119,871727,35,882560,63,907624,44,898643,1822,842335,61,842176,32,900623,183,900847,885,",APPID:\"8fc3a8dd56a875a4e72d3d2aa4110df9",901731,658,"top",902395,264,"hidden:true",902658,98,"height:300",906991,47,902802,590,",",826816,35,"PortalWizard",882620,38,"keyboardCt",887870,35,827248,59,"1",828080,38,"1",904975,38,"2",827979,57,"2",904975,38,"3",828080,38,827216,943,"]}]},{xtype:\"container\",height:200",905120,58,903418,233,826144,35,903684,65,896080,116,905279,2274,"top",882558,65,907624,914,"style:\"border-bottom: 1px solid #D9D9D9",908536,738,"top",909280,217,841936,61,"f",841998,50,909799,222," order by bname ASC \"}}",874207,58,874557,36,857709,35,910153,440,910636,428,",APPID:\"8fc3a8dd56a875a4e72d3d2aa4110df9",911063,4218,",\"MyButton193",915280,319,"cctests.com",915613,2910]